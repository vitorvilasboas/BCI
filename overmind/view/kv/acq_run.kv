<AcqRun>:
    carousel: carrossel
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 20
        canvas:
            Color:
                rgba: 185, 182, 183, 0.67 # 128, 128, 128, 0.5
            Rectangle:
                size:self.size
                pos:self.pos
        BoxLayout:
            orientation: 'horizontal'
            spacing: 30
            padding: 20
#            BoxLayout:
#                id: bar_left
#                size_hint_x: 0.1
#                canvas:
#                    Color:
#                        rgba: 1,1,0,1
#                    Line:
#                        width: 2
#                        points:
#                            (0, self.pos[1] + self.size[1]*0.8, \
#                            self.size[0]/2, self.pos[1] + self.size[1]*0.8)
#                    Color:
#                        rgba: 1,1,1,1
#                    Line:
#                        width: 2
#                        points:
#                            (0, self.pos[1] + self.size[1], \
#                            self.size[0]/2, self.pos[1] + self.size[1])
#                Bar:
#                    orientation: 'bt'
#                    color: root.accum_color_left
#                    animated: False
#                    value: root.inst_prob_left
            RelativeLayout:
                size_hint_x: 0.8
                Carousel:
                    id: carrossel
                    direction: 'right'
                    Image:
                        id: cross
                        source: root.fig_list[0]
                    Image:
                        id: aleft
                        source: root.fig_list[1]
                    Image:
                        id: aright
                        source: root.fig_list[2]
                    Image:
                        id: blank
                        source: root.fig_list[3]
                    Image:
                        id: break
                        source: root.fig_list[4]
#            BoxLayout:
#                size_hint_x: 0.1
#                canvas:
#                    Color:
#                        rgba: 1,1,0,1
#                    Line:
#                        width: 2
#                        points:
#                            (self.size[0]/2 + self.pos[0], self.pos[1] + self.size[1]*0.8, \
#                            root.size[0], self.pos[1] + self.size[1]*0.8)
#                    Color:
#                        rgba: 1,1,1,1
#                    Line:
#                        width: 2
#                        points:
#                            (self.size[0]/2 + self.pos[0], self.pos[1] + self.size[1], \
#                            root.size[0], self.pos[1] + self.size[1])
#                Bar:
#                    orientation: 'bt'
#                    color: root.accum_color_right
#                    animated: False
#                    value: root.inst_prob_right
        GridLayout:
            rows: 1
            size_hint: (1, None)
            height: 50
            spacing: 5
            padding: 5
            Button:
                font_size: 20
                text: 'Back'
                on_press: root.back_to_acq()
            Button:
                font_size: 20
                text: root.button_stream
                on_press: root.toggle_stream()

<AcqSavePopup>:
    size_hint: None, None
    size: 300, 250
    title: 'Acquisition Data'
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            TextInput:
                id: save_name
                hint_text: 'save as'
        BoxLayout:
            orientation: 'horizontal'
            Button:
                text: 'Save Data and Events'
                on_press: if save_name.text != '': root.save_acquisition(save_name.text)
                on_release: if save_name.text != '': root.dismiss()